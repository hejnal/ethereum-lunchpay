// 'module.exports' is a node.JS specific feature, it does not work with regular JavaScript
module.exports = {
    getNameRegABI: function() {
        return [{
            "constant": false,
            "inputs": [],
            "name": "kill",
            "outputs": [],
            "payable": false,
            "type": "function"
        }, {
            "constant": true,
            "inputs": [{
                "name": "name",
                "type": "string"
            }],
            "name": "addressOf",
            "outputs": [{
                "name": "addr",
                "type": "address"
            }],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [],
            "name": "owned",
            "outputs": [],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [{
                "name": "name",
                "type": "bytes32"
            }],
            "name": "register",
            "outputs": [],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [],
            "name": "unregister",
            "outputs": [],
            "payable": false,
            "type": "function"
        }, {
            "constant": true,
            "inputs": [{
                "name": "addr",
                "type": "address"
            }],
            "name": "nameOf",
            "outputs": [{
                "name": "name",
                "type": "string"
            }],
            "payable": false,
            "type": "function"
        }, {
            "inputs": [],
            "payable": false,
            "type": "constructor"
        }, {
            "anonymous": false,
            "inputs": [{
                "indexed": true,
                "name": "addr",
                "type": "address"
            }, {
                "indexed": false,
                "name": "name",
                "type": "bytes32"
            }],
            "name": "Register",
            "type": "event"
        }, {
            "anonymous": false,
            "inputs": [{
                "indexed": true,
                "name": "addre",
                "type": "address"
            }, {
                "indexed": false,
                "name": "name",
                "type": "bytes32"
            }],
            "name": "Unregister",
            "type": "event"
        }];
    },

    getProjectABI: function() {
        return [{
            "constant": true,
            "inputs": [],
            "name": "nameRegAddress",
            "outputs": [{
                "name": "",
                "type": "address"
            }],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [{
                "name": "_index",
                "type": "uint256"
            }],
            "name": "deactivateMember",
            "outputs": [],
            "payable": false,
            "type": "function"
        }, {
            "constant": true,
            "inputs": [],
            "name": "membersCount",
            "outputs": [{
                "name": "",
                "type": "uint256"
            }],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [{
                "name": "_name",
                "type": "string"
            }],
            "name": "createLunchPay",
            "outputs": [],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [],
            "name": "kill",
            "outputs": [],
            "payable": false,
            "type": "function"
        }, {
            "constant": true,
            "inputs": [],
            "name": "manager",
            "outputs": [{
                "name": "",
                "type": "address"
            }],
            "payable": false,
            "type": "function"
        }, {
            "constant": true,
            "inputs": [{
                "name": "",
                "type": "uint256"
            }],
            "name": "members",
            "outputs": [{
                "name": "addr",
                "type": "address"
            }, {
                "name": "name",
                "type": "string"
            }, {
                "name": "balance",
                "type": "int256"
            }, {
                "name": "active",
                "type": "bool"
            }],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [{
                "name": "from",
                "type": "address"
            }, {
                "name": "payer",
                "type": "address"
            }, {
                "name": "_diners",
                "type": "uint256[]"
            }],
            "name": "registerPayment",
            "outputs": [{
                "name": "",
                "type": "bool"
            }],
            "payable": false,
            "type": "function"
        }, {
            "constant": true,
            "inputs": [{
                "name": "",
                "type": "uint256"
            }],
            "name": "lunchPayContracts",
            "outputs": [{
                "name": "",
                "type": "string"
            }],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [{
                "name": "from",
                "type": "address"
            }, {
                "name": "_members",
                "type": "uint256[]"
            }],
            "name": "broadcastNextPayer",
            "outputs": [{
                "name": "",
                "type": "bool"
            }],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [{
                "name": "_newManager",
                "type": "address"
            }],
            "name": "changeManager",
            "outputs": [],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [{
                "name": "_member",
                "type": "address"
            }, {
                "name": "_name",
                "type": "string"
            }],
            "name": "addMember",
            "outputs": [],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [],
            "name": "owned",
            "outputs": [],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [{
                "name": "_name",
                "type": "string"
            }, {
                "name": "_lunchPay",
                "type": "string"
            }],
            "name": "assignMemberToLunchPay",
            "outputs": [],
            "payable": false,
            "type": "function"
        }, {
            "inputs": [{
                "name": "_nameRegAddress",
                "type": "address"
            }],
            "payable": false,
            "type": "constructor"
        }, {
            "anonymous": false,
            "inputs": [{
                "indexed": false,
                "name": "addr",
                "type": "address"
            }],
            "name": "LunchPayCreated",
            "type": "event"
        }, {
            "anonymous": false,
            "inputs": [{
                "indexed": false,
                "name": "to",
                "type": "address"
            }, {
                "indexed": false,
                "name": "nextPayer",
                "type": "string"
            }, {
                "indexed": false,
                "name": "success",
                "type": "bool"
            }],
            "name": "BroadcastedEvent",
            "type": "event"
        }];
    },

    getLunchPayABI: function() {
        return [{
            "constant": true,
            "inputs": [],
            "name": "nameRegAddress",
            "outputs": [{
                "name": "",
                "type": "address"
            }],
            "payable": false,
            "type": "function"
        }, {
            "constant": true,
            "inputs": [],
            "name": "name",
            "outputs": [{
                "name": "",
                "type": "string"
            }],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [{
                "name": "_index",
                "type": "uint256"
            }],
            "name": "addMember",
            "outputs": [],
            "payable": false,
            "type": "function"
        }, {
            "constant": true,
            "inputs": [],
            "name": "membersCount",
            "outputs": [{
                "name": "",
                "type": "uint256"
            }],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [{
                "name": "_nextPayer",
                "type": "string"
            }],
            "name": "broadcastNextPayer",
            "outputs": [{
                "name": "",
                "type": "bool"
            }],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [],
            "name": "consultNextPayer",
            "outputs": [],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [],
            "name": "kill",
            "outputs": [],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [{
                "name": "diners",
                "type": "uint256[]"
            }],
            "name": "pay",
            "outputs": [],
            "payable": false,
            "type": "function"
        }, {
            "constant": true,
            "inputs": [{
                "name": "",
                "type": "uint256"
            }],
            "name": "members",
            "outputs": [{
                "name": "",
                "type": "uint256"
            }],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [{
                "name": "_index",
                "type": "uint256"
            }],
            "name": "removeMember",
            "outputs": [],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [{
                "name": "_payer",
                "type": "string"
            }],
            "name": "broadcastPayment",
            "outputs": [{
                "name": "",
                "type": "bool"
            }],
            "payable": false,
            "type": "function"
        }, {
            "constant": false,
            "inputs": [],
            "name": "owned",
            "outputs": [],
            "payable": false,
            "type": "function"
        }, {
            "inputs": [{
                "name": "_name",
                "type": "string"
            }, {
                "name": "_nameRegAddress",
                "type": "address"
            }, {
                "name": "_projectContract",
                "type": "address"
            }],
            "payable": false,
            "type": "constructor"
        }, {
            "anonymous": false,
            "inputs": [{
                "indexed": false,
                "name": "_nextPayer",
                "type": "string"
            }],
            "name": "NextPayer",
            "type": "event"
        }, {
            "anonymous": false,
            "inputs": [{
                "indexed": false,
                "name": "_payer",
                "type": "string"
            }],
            "name": "PaymentDone",
            "type": "event"
        }, {
            "anonymous": false,
            "inputs": [{
                "indexed": false,
                "name": "to",
                "type": "address"
            }, {
                "indexed": false,
                "name": "success",
                "type": "bool"
            }],
            "name": "Consulted",
            "type": "event"
        }, {
            "anonymous": false,
            "inputs": [{
                "indexed": false,
                "name": "index",
                "type": "uint256"
            }],
            "name": "MemberAdded",
            "type": "event"
        }, {
            "anonymous": false,
            "inputs": [{
                "indexed": false,
                "name": "index",
                "type": "uint256"
            }],
            "name": "MemberRemoved",
            "type": "event"
        }];
    },

    deployNameReg: function(web3, callback) {
        var lunchpaynameregistry_nameregContract = web3.eth.contract(this.getNameRegABI());
        console.log("Please wait till the contract is mined...");
        var lunchpaynameregistry_namereg = lunchpaynameregistry_nameregContract.new({
            from: web3.eth.accounts[0],
            data: '0x6060604052341561000c57fe5b5b7f4e616d6552656700000000000000000000000000000000000000000000000000600160003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020816000191690555030600260007f4e616d655265670000000000000000000000000000000000000000000000000060001916815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555033600360007f4e616d655265670000000000000000000000000000000000000000000000000060001916815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055503073ffffffffffffffffffffffffffffffffffffffff167f35b95fef243be6acd4535eb4b918ab1ef20a4c3eb373ff569d827c1660e1bcb060405180807f4e616d6552656700000000000000000000000000000000000000000000000000815250602001905060405180910390a25b5b610bbc806101e06000396000f30060606040523615610076576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806341c0e1b514610078578063ccf1454a1461008a578063df32754b14610124578063e1fa8e8414610136578063e79a198f1461015a578063f5c573821461016c575bfe5b341561008057fe5b610088610229565b005b341561009257fe5b6100e2600480803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919050506102c4565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561012c57fe5b610134610312565b005b341561013e57fe5b610158600480803560001916906020019091905050610356565b005b341561016257fe5b61016a6106f5565b005b341561017457fe5b6101a0600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610916565b60405180806020018281038252838181518152602001915080519060200190808383600083146101ef575b8051825260208311156101ef576020820191506020810190506020830392506101cb565b505050905090810190601f16801561021b5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561028557610000565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16ff5b5b5b565b6000600260006102d38461096e565b6000191660001916815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690505b919050565b33600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b565b6000600073ffffffffffffffffffffffffffffffffffffffff1660026000846000191660001916815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161415801561043757503273ffffffffffffffffffffffffffffffffffffffff1660036000846000191660001916815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614155b15610441576106f1565b600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205490506000816000191614151561059e57600060026000836000191660001916815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600060036000836000191660001916815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055503373ffffffffffffffffffffffffffffffffffffffff167f35fb57fcc94dfd171a0cd0b5eb98391005d09923c1ddceac275cde8fa26df78f8260405180826000191660001916815260200191505060405180910390a25b81600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081600019169055503360026000846000191660001916815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055503260036000846000191660001916815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055503373ffffffffffffffffffffffffffffffffffffffff167f35b95fef243be6acd4535eb4b918ab1ef20a4c3eb373ff569d827c1660e1bcb08360405180826000191660001916815260200191505060405180910390a25b5050565b6000600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205490506000816000191614806107b357503273ffffffffffffffffffffffffffffffffffffffff1660036000836000191660001916815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614155b156107bd57610913565b6000600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208160001916905550600060026000836000191660001916815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600060036000836000191660001916815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055503373ffffffffffffffffffffffffffffffffffffffff167f35fb57fcc94dfd171a0cd0b5eb98391005d09923c1ddceac275cde8fa26df78f8260405180826000191660001916815260200191505060405180910390a25b50565b61091e610b68565b610966600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461097d565b90505b919050565b6000602082015190505b919050565b610985610b68565b61098d610b7c565b60006000600061099b610b7c565b60206040518059106109aa5750595b908082528060200260200182016040525b50945060009350600092505b6020831015610a86578260080260020a876001900402600102915060007f010000000000000000000000000000000000000000000000000000000000000002827effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916141515610a7857818585815181101515610a3f57fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535083806001019450505b5b82806001019350506109c7565b83604051805910610a945750595b908082528060200260200182016040525b509050600092505b83831015610b5a578483815181101515610ac357fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000028184815181101515610b1c57fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053505b8280600101935050610aad565b8095505b5050505050919050565b602060405190810160405280600081525090565b6020604051908101604052806000815250905600a165627a7a72305820c2c2fa4fbd978e42d15a480404f4472b30b8a33f70713f1d267d2eaffb3b7eed0029',
            gas: '4700000'
        }, function(e, contract) {
            if (typeof contract.address !== 'undefined') {
                console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
                return callback(contract);
            }
        })
    },
    deployProject: function(web3, deployedNameRegAddr, callback) {
        var _nameRegAddress = deployedNameRegAddr;
        var lunchpay_projectContract = web3.eth.contract(this.getProjectABI());
        console.log("Please wait till the contract is mined...");
        var lunchpay_project = lunchpay_projectContract.new(
            _nameRegAddress, {
                from: web3.eth.accounts[0],
                data: '0x6060604052341561000c57fe5b604051602080612bbe833981016040528080519060200190919050505b80600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555033600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b505b612b01806100bd6000396000f30060606040523615620000dd576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630600575414620000df578063061b11681462000134578063297f9af014620001575780633f1687d3146200018057806341c0e1b514620001dd578063481c6a7514620001f25780635daf08ca14620002475780636eed2f811462000349578063807706fe14620003f957806389b00d7914620004a7578063a3fbbaae1462000538578063c127c2471462000571578063df32754b14620005ed578063f17debe51462000602575bfe5b3415620000e857fe5b620000f2620006a2565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156200013d57fe5b620001556004808035906020019091905050620006c8565b005b34156200016057fe5b6200016a6200076a565b6040518082815260200191505060405180910390f35b34156200018957fe5b620001db600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190505062000770565b005b3415620001e657fe5b620001f062000947565b005b3415620001fb57fe5b62000205620009e4565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156200025057fe5b62000268600480803590602001909190505062000a0a565b604051808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018060200184815260200183151515158152602001828103825285818154600181600116156101000203166002900481526020019150805460018160011615610100020316600290048015620003375780601f106200030b5761010080835404028352916020019162000337565b820191906000526020600020905b8154815290600101906020018083116200031957829003601f168201915b50509550505050505060405180910390f35b34156200035257fe5b620003df600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190820180359060200190808060200260200160405190810160405280939291908181526020018383602002808284378201915050505050509190505062000a77565b604051808215151515815260200191505060405180910390f35b34156200040257fe5b6200041a600480803590602001909190505062000dfd565b60405180806020018281038252838181518152602001915080519060200190808383600083146200046c575b8051825260208311156200046c5760208201915060208101905060208303925062000446565b505050905090810190601f168015620004995780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3415620004b057fe5b6200051e600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190820180359060200190808060200260200160405190810160405280939291908181526020018383602002808284378201915050505050509190505062000ebf565b604051808215151515815260200191505060405180910390f35b34156200054157fe5b6200056f600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190505062001258565b005b34156200057a57fe5b620005eb600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050620012fd565b005b3415620005f657fe5b6200060062001469565b005b34156200060b57fe5b620006a0600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050620014ad565b005b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515620007265762000000565b60006003828154811015156200073857fe5b906000526020600020906004020160005b5060030160006101000a81548160ff0219169083151502179055505b5b5b50565b60045481565b600060058054806001018281620007889190620018ef565b916000526020600020900160005b8490919091509080519060200190620007b19291906200191e565b505081600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1630620007e2620019a5565b80806020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182810382528581815181526020019150805190602001908083836000831462000895575b80518252602083111562000895576020820191506020810190506020830392506200086f565b505050905090810190601f168015620008c25780820380516001836020036101000a031916815260200191505b50945050505050604051809103906000f0801515620008dd57fe5b90507f0c67dd87a34530a81e030cbdf4bf0b56283856bfe62fe5453b0d5c2a1c735d3781604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a15b5050565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515620009a55762000000565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16ff5b5b5b565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60038181548110151562000a1a57fe5b906000526020600020906004020160005b915090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169080600101908060020154908060030160009054906101000a900460ff16905084565b600060006000600060009250600091505b845182101562000cb557600115156003868481518110151562000aa757fe5b9060200190602002015181548110151562000abe57fe5b906000526020600020906004020160005b5060030160009054906101000a900460ff161515141562000ca6578573ffffffffffffffffffffffffffffffffffffffff166003868481518110151562000b1257fe5b9060200190602002015181548110151562000b2957fe5b906000526020600020906004020160005b5060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16141562000c2257848281518110151562000b8b57fe5b906020019060200201519250600185516003878581518110151562000bac57fe5b9060200190602002015181548110151562000bc357fe5b906000526020600020906004020160005b506002015401036003868481518110151562000bec57fe5b9060200190602002015181548110151562000c0357fe5b906000526020600020906004020160005b506002018190555062000ca5565b60016003868481518110151562000c3557fe5b9060200190602002015181548110151562000c4c57fe5b906000526020600020906004020160005b5060020154036003868481518110151562000c7457fe5b9060200190602002015181548110151562000c8b57fe5b906000526020600020906004020160005b50600201819055505b5b5b818060010192505062000a88565b8673ffffffffffffffffffffffffffffffffffffffff1663c0ecd04b60038581548110151562000ce157fe5b906000526020600020906004020160005b506001016000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808060200182810382528381815460018160011615610100020316600290048152602001915080546001816001161561010002031660029004801562000db75780601f1062000d8b5761010080835404028352916020019162000db7565b820191906000526020600020905b81548152906001019060200180831162000d9957829003601f168201915b505092505050602060405180830381600087803b151562000dd457fe5b60325a03f1151562000de257fe5b505050604051805190509050600193505b5050509392505050565b60058181548110151562000e0d57fe5b906000526020600020900160005b915090508054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801562000eb75780601f1062000e8b5761010080835404028352916020019162000eb7565b820191906000526020600020905b81548152906001019060200180831162000e9957829003601f168201915b505050505081565b60006000600060006000600093506305f5e1009250600091505b855182101562000fef57600115156003878481518110151562000ef857fe5b9060200190602002015181548110151562000f0f57fe5b906000526020600020906004020160005b5060030160009054906101000a900460ff16151514801562000f7e5750826003878481518110151562000f4f57fe5b9060200190602002015181548110151562000f6657fe5b906000526020600020906004020160005b5060020154125b1562000fe0576003868381518110151562000f9557fe5b9060200190602002015181548110151562000fac57fe5b906000526020600020906004020160005b50600201549250858281518110151562000fd357fe5b9060200190602002015193505b5b818060010192505062000ed9565b8673ffffffffffffffffffffffffffffffffffffffff166329f60c7f6003868154811015156200101b57fe5b906000526020600020906004020160005b506001016000604051602001526040518263ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018080602001828103825283818154600181600116156101000203166002900481526020019150805460018160011615610100020316600290048015620010f15780601f10620010c557610100808354040283529160200191620010f1565b820191906000526020600020905b815481529060010190602001808311620010d357829003601f168201915b505092505050602060405180830381600087803b15156200110e57fe5b60325a03f115156200111c57fe5b5050506040518051905090507f87c5541dd7ff78f8e18096b7d1e62672d63536ac85c2afd23c26b73389d09fd2876003868154811015156200115a57fe5b906000526020600020906004020160005b5060010183604051808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018060200183151515158152602001828103825284818154600181600116156101000203166002900481526020019150805460018160011615610100020316600290048015620012395780601f106200120d5761010080835404028352916020019162001239565b820191906000526020600020905b8154815290600101906020018083116200121b57829003601f168201915b505094505050505060405180910390a1600194505b5050505092915050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515620012b65762000000565b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b5b5b50565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156200135b5762000000565b60038054806001018281620013719190620019b6565b916000526020600020906004020160005b6080604051908101604052808673ffffffffffffffffffffffffffffffffffffffff1681526020018581526020016000815260200160011515815250909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550602082015181600101908051906020019062001428929190620019eb565b506040820151816002015560608201518160030160006101000a81548160ff0219169083151502179055505050506001600454016004819055505b5b5b5050565b33600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b565b60006000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156200150f5762000000565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ccf1454a846000604051602001526040518263ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018080602001828103825283818151815260200191508051906020019080838360008314620015d4575b805182526020831115620015d457602082019150602081019050602083039250620015ae565b505050905090810190601f168015620016015780820380516001836020036101000a031916815260200191505b5092505050602060405180830381600087803b15156200161d57fe5b60325a03f115156200162b57fe5b505050604051805190509150600090505b6003805490508110156200175057600115156003828154811015156200165e57fe5b906000526020600020906004020160005b5060030160009054906101000a900460ff161515148015620016bd5750620016bc600382815481101515620016a057fe5b906000526020600020906004020160005b506001018562001759565b5b1562001741578173ffffffffffffffffffffffffffffffffffffffff16631089f5ed826040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b15156200172f57fe5b60325a03f115156200173d57fe5b5050505b5b80806001019150506200163c565b5b5b5b50505050565b600060006200176762001a72565b6000859250849150815183805460018160011615610100020316600290049050141515620017995760009350620018e6565b600090505b82805460018160011615610100020316600290049050811015620018e1578181815181101515620017cb57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916838281546001816001161561010002031660029004811015156200185857fe5b815460011615620018785790600052602060002090602091828204019190065b9054901a7f0100000000000000000000000000000000000000000000000000000000000000027effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916141515620018d25760009350620018e6565b5b80806001019150506200179e565b600193505b50505092915050565b815481835581811511620019195781836000526020600020918201910162001918919062001a86565b5b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200196157805160ff191683800117855562001992565b8280016001018555821562001992579182015b828111156200199157825182559160200191906001019062001974565b5b509050620019a1919062001ab7565b5090565b604051610f328062001ba483390190565b815481835581811511620019e657600402816004028360005260206000209182019101620019e5919062001adf565b5b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1062001a2e57805160ff191683800117855562001a5f565b8280016001018555821562001a5f579182015b8281111562001a5e57825182559160200191906001019062001a41565b5b50905062001a6e919062001ab7565b5090565b602060405190810160405280600081525090565b62001ab491905b8082111562001ab0576000818162001aa6919062001b57565b5060010162001a8d565b5090565b90565b62001adc91905b8082111562001ad857600081600090555060010162001abe565b5090565b90565b62001b5491905b8082111562001b505760006000820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905560018201600062001b2a919062001b57565b60028201600090556003820160006101000a81549060ff02191690555060040162001ae6565b5090565b90565b50805460018160011615610100020316600290046000825580601f1062001b7f575062001ba0565b601f01602090049060005260206000209081019062001b9f919062001ab7565b5b5056006060604052341561000c57fe5b604051610f32380380610f32833981016040528080518201919060200180519060200190919080519060200190919050505b60005b33600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b83600390805190602001906100999291906101d2565b5081600460006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555082600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060208401519050600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e1fa8e84826040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050600060405180830381600087803b15156101b857fe5b60325a03f115156101c557fe5b5050505b50505050610277565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061021357805160ff1916838001178555610241565b82800160010185558215610241579182015b82811115610240578251825591602001919060010190610225565b5b50905061024e9190610252565b5090565b61027491905b80821115610270576000816000905550600101610258565b5090565b90565b610cac806102866000396000f300606060405236156100b8576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806306005754146100ba57806306fdde031461010c5780631089f5ed146101a5578063297f9af0146101c557806329f60c7f146101eb5780633f4b0d111461025d57806341c0e1b51461026f57806346e04e25146102815780635daf08ca146102d8578063a1a74aae1461030c578063c0ecd04b1461032c578063df32754b1461039e575bfe5b34156100c257fe5b6100ca6103b0565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561011457fe5b61011c6103d6565b604051808060200182810382528381815181526020019150805190602001908083836000831461016b575b80518252602083111561016b57602082019150602081019050602083039250610147565b505050905090810190601f1680156101975780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34156101ad57fe5b6101c36004808035906020019091905050610474565b005b34156101cd57fe5b6101d5610543565b6040518082815260200191505060405180910390f35b34156101f357fe5b610243600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050610549565b604051808215151515815260200191505060405180910390f35b341561026557fe5b61026d6105fb565b005b341561027757fe5b61027f6107b4565b005b341561028957fe5b6102d660048080359060200190820180359060200190808060200260200160405190810160405280939291908181526020018383602002808284378201915050505050509190505061084f565b005b34156102e057fe5b6102f66004808035906020019091905050610a4d565b6040518082815260200191505060405180910390f35b341561031457fe5b61032a6004808035906020019091905050610a72565b005b341561033457fe5b610384600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050610b39565b604051808215151515815260200191505060405180910390f35b34156103a657fe5b6103ae610beb565b005b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60038054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561046c5780601f106104415761010080835404028352916020019161046c565b820191906000526020600020905b81548152906001019060200180831161044f57829003601f168201915b505050505081565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156104d057610000565b600180548060010182816104e49190610c2f565b916000526020600020900160005b83909190915055506001600254016002819055507f663edc42a721f7c73209441ed31f141cef6912283c680024547d950559c55591816040518082815260200191505060405180910390a15b5b5b50565b60025481565b60007f35433e46a1038e47aee2a12f23ffd31362a1873c2ffe07e32ff9fdeb49ac7e198260405180806020018281038252838181518152602001915080519060200190808383600083146105bc575b8051825260208311156105bc57602082019150602081019050602083039250610598565b505050905090810190601f1680156105e85780820380516001836020036101000a031916815260200191505b509250505060405180910390a15b919050565b6000600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166389b00d793060016000604051602001526040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018060200182810382528381815481526020019150805480156106e957602002820191906000526020600020905b8154815260200190600101908083116106d5575b50509350505050602060405180830381600087803b151561070657fe5b60325a03f1151561071357fe5b5050506040518051905090507feca75f94d6c5a9b65957817f0998ddbf6c8ed2ea3d50058ab58e2fa5714b63e0600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1682604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001821515151581526020019250505060405180910390a15b50565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561081057610000565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16ff5b5b5b565b6000600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16636eed2f813033856000604051602001526040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018060200182810382528381815181526020019150805190602001906020028083836000831461097c575b80518252602083111561097c57602082019150602081019050602083039250610958565b505050905001945050505050602060405180830381600087803b151561099e57fe5b60325a03f115156109ab57fe5b5050506040518051905090507feca75f94d6c5a9b65957817f0998ddbf6c8ed2ea3d50058ab58e2fa5714b63e0600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1682604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001821515151581526020019250505060405180910390a15b5050565b600181815481101515610a5c57fe5b906000526020600020900160005b915090505481565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610ace57610000565b600181815481101515610add57fe5b906000526020600020900160005b50600090556001600254036002819055507fd0d20500e9f6149da5ed17dba6eca3b2df42ed81471298973bd1d877a4cf152a816040518082815260200191505060405180910390a15b5b5b50565b60007f5c330c20847b64d548e7e44ec6f9d7f414005e4e46747253b35b6d25064e03bb826040518080602001828103825283818151815260200191508051906020019080838360008314610bac575b805182526020831115610bac57602082019150602081019050602083039250610b88565b505050905090810190601f168015610bd85780820380516001836020036101000a031916815260200191505b509250505060405180910390a15b919050565b33600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b565b815481835581811511610c5657818360005260206000209182019101610c559190610c5b565b5b505050565b610c7d91905b80821115610c79576000816000905550600101610c61565b5090565b905600a165627a7a72305820f39bef7965acda41ae347fc17ba57d30080ba0c6693178939bddde1b3fba58480029a165627a7a7230582054b4ef1843440949cc1c3b38c6b2519f11635e9528676d5e11475156b029eecc0029',
                gas: '4700000'
            },
            function(e, contract) {
                if (typeof contract.address !== 'undefined') {
                    console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
                    return callback(contract);
                }
            })
    }
};
